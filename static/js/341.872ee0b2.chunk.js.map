{"version":3,"file":"static/js/341.872ee0b2.chunk.js","mappings":"mOACA,EAAgC,8BAAhC,EAA8E,8BAA9E,EAA0H,4BAA1H,EAAoK,4B,SC6EpK,EAxEe,WACb,OAA0BA,EAAAA,EAAAA,MAA1B,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MAmCjB,OAvBAC,EAAAA,EAAAA,YAAU,WACR,GAAKP,EAAMQ,IAAI,SAAf,CAIA,IAEMC,EAAYT,EAAMQ,IAAI,SAE5BE,MAAM,GAAD,OAHY,+BAGZ,iCAJW,mCAIX,iCACiED,EADjE,gCAGFE,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MACjB,IACAL,MAAK,gBAAGM,EAAH,EAAGA,QAAH,OAAiBb,GAAS,OAAIa,GAA9B,IACLC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAhB,GAjBX,CAkBF,GAAE,CAACnB,KAGF,gCACE,kBAAMsB,SAnCc,SAAAC,GACtBA,EAAMC,iBACN,IAAMC,EAAaF,EAAMG,OAAOC,SAASC,KAAKC,MAEpB,KAAtBJ,EAAWK,QAGf7B,EAAS,CAAED,MAAOyB,GACnB,EA2BG,WACE,kBACEM,KAAK,OACLC,YAAY,sBACZJ,KAAK,OACLK,UAAWC,KAEb,mBAAQD,UAAWC,EAAnB,wBAEF,eAAID,UAAWC,EAAf,SACG/B,EAAMgC,OACLhC,EAAMiC,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACf,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKF,GACPG,MAAO,CAAEC,KAAMpC,GACf4B,UAAWC,EAHb,SAKGI,KANID,EAUZ,KAED,4BAKT,C","sources":["webpack://react-homework-template/./src/page/Movies/Movies.module.css?e724","page/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie__search\":\"Movies_movie__search__s67M+\",\"movie__button\":\"Movies_movie__button__hFfmO\",\"movie__list\":\"Movies_movie__list__G6s0b\",\"movie__link\":\"Movies_movie__link__9pyMb\"};","import { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [query, setQuery] = useSearchParams();\n  const [films, setFilms] = useState([]);\n  const location = useLocation();\n\n  const submitMovieName = event => {\n    event.preventDefault();\n    const searchName = event.target.elements.name.value;\n\n    if (searchName.trim() === '') {\n      return;\n    }\n    setQuery({ query: searchName });\n  };\n\n  useEffect(() => {\n    if (!query.get('query')) {\n      return;\n    }\n\n    const API_KEY = '40e5fb6b16c3c0f0cef94ac33091be49';\n    const BASE_URL = 'https://api.themoviedb.org/3';\n    const FILM_NAME = query.get('query');\n\n    fetch(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${FILM_NAME}&page=1&include_adult=false`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      })\n      .then(({ results }) => setFilms([...results]))\n      .catch(err => console.log(err));\n  }, [query]);\n\n  return (\n    <section>\n      <form onSubmit={submitMovieName}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter movie name...\"\n          name=\"name\"\n          className={css.movie__search}\n        />\n        <button className={css.movie__button}>Search</button>\n      </form>\n      <ul className={css.movie__list}>\n        {films.length ? (\n          films.map(({ id, title }) => {\n            return (\n              <li key={id}>\n                <Link\n                  to={`${id}`}\n                  state={{ from: location }}\n                  className={css.movie__link}\n                >\n                  {title}\n                </Link>\n              </li>\n            );\n          })\n        ) : (\n          <></>\n        )}\n      </ul>\n    </section>\n  );\n};\n\nexport default Movies;\n"],"names":["useSearchParams","query","setQuery","useState","films","setFilms","location","useLocation","useEffect","get","FILM_NAME","fetch","then","response","ok","Error","status","json","results","catch","err","console","log","onSubmit","event","preventDefault","searchName","target","elements","name","value","trim","type","placeholder","className","css","length","map","id","title","to","state","from"],"sourceRoot":""}